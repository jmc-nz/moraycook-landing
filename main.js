(()=>{var a=document,b=setTimeout,c=clearTimeout,d="is-visible",e="is-active",f="setProperty",g="--hyphen-",h="Moray",i="Cook",j=a.getElementById("wordmark"),k=a.getElementById("wordmark-animation"),l=a.getElementById("left"),m=a.getElementById("right"),n=a.getElementById("hyphen"),o=a.getElementById("period"),p=a.getElementById("caret"),q=a.querySelector(".mail-fab");if(!j||!k||!l||!m||!n||!o||!p)return;var r=135,s=70,t=.05,u=.07,v=.14,w=[{r:0,y:0},{r:-45,y:-u,l:1,s:1},{r:0,y:0},{r:45,y:-u,l:1,s:-1},{r:0,y:0},{r:-45,y:u,l:2,s:1},{r:0,y:0},{r:45,y:u,l:2,s:-1},{r:0,y:0},{r:-45,y:v,l:3,s:1},{r:0,y:0},{r:45,y:v,l:3,s:-1},{r:0,y:0}],x=[],y=0,z=null,A=!1,B=0,C=0,D=new Set,E=(a,c)=>(x.push(b(a,c)),x[x.length-1]),F=()=>{z&&(c(z),z=null),n.classList.remove("is-spinning")},G=()=>{k.style[f]("--left-shift",B+"em"),k.style[f]("--right-shift",C+"em")},H=a=>{var b;a.l&&a.s&&(b=`${a.l}-${a.s}`,D.has(b)||(D.add(b),1===a.s&&(C+=t),-1===a.s&&(B-=t),G())),n.style[f](g+"rot",a.r+"deg"),n.style[f](g+"y",a.y+"em")},I=a=>{F(),n.classList.add("is-spinning");let c=0;!function d(){a===y&&(H(w[c]),c>=w.length-1?(F(),E(()=>a===y?n.style[f](g+"stretch","1.55"):0,80),E(()=>a===y?o.classList.add("is-visible"):0,520)):(c+=1,z=b(d,3e3)))}()},J=(a,c,d,e)=>{let f=0;!function g(){d===y&&(f>=c.length?null==e||e():(a.textContent+=c[f++],a.appendChild(p),E(g,r+Math.random()*s)))}()},K=()=>{y+=1;let a=y;A=!1,x.forEach(c),x=[],F(),D.clear(),B=0,C=0,G(),null==q||q.classList.remove(d),l.textContent="",m.textContent="",o.classList.remove(d),n.classList.remove(d),n.style[f](g+"rot","0deg"),n.style[f](g+"y","0em"),n.style[f](g+"stretch","1"),p.classList.remove(e),p.style.opacity="",j.classList.remove("is-fading"),j.classList.remove("is-live"),requestAnimationFrame((()=>j.classList.add("is-live"))),p.classList.add(e),l.appendChild(p),E((()=>{a===y&&J(l,h,a,(()=>{m.appendChild(p),J(m,i,a,(()=>{E((()=>{a===y&&(p.classList.remove(e),p.style.opacity="0")}),700),E((()=>{a===y&&(n.classList.add(d),null==q||q.classList.add(d),E((()=>{a===y&&I(a)}),650))}),2e3)}))}))}),3e3)},L=()=>{A||(A=!0,y+=1,x.forEach(c),x=[],F(),j.classList.add("is-fading"),null==q||q.classList.remove(d),b((()=>{K()}),650))};j.addEventListener("click",L),j.addEventListener("keydown",(a=>{"Enter"!==a.key&&" "!==a.key||(a.preventDefault(),L())})),K()})();
